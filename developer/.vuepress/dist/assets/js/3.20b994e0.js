(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{169:function(s,a,e){"use strict";e.r(a);var n=e(0),t=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"本地搭建sdag区块链并完成转账"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#本地搭建sdag区块链并完成转账","aria-hidden":"true"}},[s._v("#")]),s._v(" 本地搭建SDAG区块链并完成转账")]),s._v(" "),e("blockquote",[e("p",[s._v("按照本文档的步骤执行，你可以在本地搭建一个SDAG区块链，并使用SDAG的jssdk构建一个命令行钱包来查询和转账。")])]),s._v(" "),e("h3",{attrs:{id:"_1-安装docker社区版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装docker社区版","aria-hidden":"true"}},[s._v("#")]),s._v(" 1 安装docker社区版")]),s._v(" "),e("p",[s._v("ubuntu用户请参考如下安装方式:")]),s._v(" "),e("p",[s._v("https://docs.docker.com/install/linux/docker-ce/ubuntu/")]),s._v(" "),e("p",[s._v("centos用户请参考如下安装方式:")]),s._v(" "),e("p",[s._v("https://docs.docker.com/install/linux/docker-ce/centos/")]),s._v(" "),e("p",[s._v("fedora用户请参考如下安装方式:\nhttps://docs.docker.com/install/linux/docker-ce/fedora/")]),s._v(" "),e("p",[s._v("Mac用户请参考如下安装方式:")]),s._v(" "),e("p",[s._v("https://docs.docker.com/docker-for-mac/install/")]),s._v(" "),e("p",[s._v("windows用户请参考如下安装方式:")]),s._v(" "),e("p",[s._v("https://docs.docker.com/docker-for-windows/install/")]),s._v(" "),e("h3",{attrs:{id:"_2-把当前用户添加到docker用户组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-把当前用户添加到docker用户组","aria-hidden":"true"}},[s._v("#")]),s._v(" 2 把当前用户添加到docker用户组")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo gpasswd -a $(whoami) docker\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_3-获得sdag区块链镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-获得sdag区块链镜像","aria-hidden":"true"}},[s._v("#")]),s._v(" 3 获得SDAG区块链镜像")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker pull registry.cn-beijing.aliyuncs.com/sdag/sdag_testnet_dev:latest\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_4-启动sdag区块链"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-启动sdag区块链","aria-hidden":"true"}},[s._v("#")]),s._v(" 4 启动SDAG区块链")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run --rm -d --name sdag -p 6615:6615 -p 8080:8080 registry.cn-beijing.aliyuncs.com/sdag/sdag_testnet_dev\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_5-打开区块链浏览器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-打开区块链浏览器","aria-hidden":"true"}},[s._v("#")]),s._v(" 5 打开区块链浏览器")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("http://localhost:8080\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"explorer.png",alt:""}})]),s._v(" "),e("h3",{attrs:{id:"_6-获得创始后有数字资产的助记词"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-获得创始后有数字资产的助记词","aria-hidden":"true"}},[s._v("#")]),s._v(" 6 获得创始后有数字资产的助记词")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo docker exec -it sdag cat data/sdg/settings.json\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("返回的结果类似:")]),s._v(" "),e("p",[e("img",{attrs:{src:"mnemonic.png",alt:""}})]),s._v(" "),e("p",[s._v("拷贝下助记词，供第7步使用.")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fade aunt crack express uncle fit valley faculty candy toddler buzz pink\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_7-发送数字资产"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-发送数字资产","aria-hidden":"true"}},[s._v("#")]),s._v(" 7 发送数字资产")]),s._v(" "),e("p",[s._v("在本地计算机（非docker里），新建一个名为samples的文件夹。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mkdir samples\ncd samples\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("初始化npm，并安装SDAG的jssdk：sdagwallet.js")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm init\nnpm isntall sdagwallet.js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("新建一个名为mnemonic.js的文件，输入以下内容：")]),s._v(" "),e("blockquote",[e("p",[s._v("该文件使用mnemonic.js生成随机助记词")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('const { default: Wallet } = require("sdagwallet.js");\nlet wallet = new Wallet();\nvar mnemonic = wallet.generateMnemonic();\nconsole.log(mnemonic);\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("执行它：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("node mnemonic.js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("得到类似下图的结果:")]),s._v(" "),e("p",[e("img",{attrs:{src:"newmnemonic.png",alt:""}})]),s._v(" "),e("p",[s._v('拷贝助记词，并建立一个名为 alice.js 的文件，在 mnemonic = "" 中填入助记词，内容如下：')]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('const { default: Wallet } = require("sdagwallet.js");\n//import Wallet from \'sdagwallet.js\';\nlet wallet = new Wallet();\n\nconst mnemonic = "april warrior alarm actress end story social palm desert twist knife future";\n\nwallet.configHub("ws://localhost:6615");\nwallet.loginWithMnemonic(mnemonic).then(() => {\n    var address = wallet.getAddress();\n    console.log("address",address);\n    wallet.getBalance().then((balance) => {\n        console.log("balance",balance);\n    });\n});\n\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("p",[s._v("执行它：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("node alice.js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("返回的结果如下，能看到alice的地址，及余额。")]),s._v(" "),e("p",[e("img",{attrs:{src:"alice.png",alt:""}})]),s._v(" "),e("p",[s._v("拷贝alice的地址，留作scott给alice转账时使用。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("HKIRYKXL65TTTBLIW3CXIYQHGPBX3YGI\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v('新建一个名为 scott.js 的文件，并且把助记词配置为 "fade aunt crack express uncle fit valley faculty candy toddler buzz pink" (在第6步时从docker里得到的)')]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('const { default: Wallet } = require("sdagwallet.js");\n//import Wallet from \'sdagwallet.js\';\nlet wallet = new Wallet();\n\nconst mnemonic = "fade aunt crack express uncle fit valley faculty candy toddler buzz pink";\n\nwallet.configHub("ws://localhost:6615");\nwallet.loginWithMnemonic(mnemonic).then(() => {\n    var address = wallet.getAddress();\n    console.log("address",address);\n    wallet.getBalance().then((balance) => {\n        console.log("balance",balance);\n    });\n});\n\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("p",[s._v("执行它")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("node scott.js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("返回的结果如下：")]),s._v(" "),e("p",[e("img",{attrs:{src:"scott.png",alt:""}})]),s._v(" "),e("p",[s._v("现在，新建一个名为 scott-to-alice.js 的文件，内容如下：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('const { default: Wallet } = require("sdagwallet.js");\n//import Wallet from \'sdagwallet.js\';\nlet wallet = new Wallet();\nconst mnemonic = "fade aunt crack express uncle fit valley faculty candy toddler buzz pink";\nwallet.configHub("ws://localhost:6615");\nwallet.loginWithMnemonic(mnemonic).then(async () => {\n    await wallet.getBalance();\n    wallet.send({\n        to: \'HKIRYKXL65TTTBLIW3CXIYQHGPBX3YGI\',\n        amount: 10,\n        text: \'from scott to alice\'\n    }).then(() => {\n        console.log("ok");\n    }).catch((err) => {\n        console.log(err);\n    });\n});\n\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])]),e("p",[s._v("执行它")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("node scott-to-alice\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("返回的结果如下：")]),s._v(" "),e("p",[e("img",{attrs:{src:"send.png",alt:""}})]),s._v(" "),e("p",[s._v("这说明已经完成转账，接下来，重新获得 alice 的余额：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("node alice\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("返回结果如下：")]),s._v(" "),e("p",[e("img",{attrs:{src:"aliceafter.png",alt:""}})]),s._v(" "),e("p",[s._v("重新获得 scott 的余额：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("node scott\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("返回结果如下：")]),s._v(" "),e("p",[e("img",{attrs:{src:"scottafter.png",alt:""}})]),s._v(" "),e("p",[s._v("转账结束了，上述源码位于： https://github.com/smart-dag/samples.git")])])}],!1,null,null,null);a.default=t.exports}}]);